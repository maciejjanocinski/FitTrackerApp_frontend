<app-navbar></app-navbar>
<div class="goalContainer" [@fadeIn]>
  <div *ngIf="goalData" class="goalContainer__nutrients">

    <table class="table diary__nutrients-table table-dark ">
      <thead>
      <tr>
        <th scope="col">Kcal goal</th>
        <th scope="col">Protein goal</th>
        <th scope="col">Carbs goal</th>
        <th scope="col">Fat goal</th>
        <th scope="col">Fiber goal</th>
      </thead>
      <tbody>
      <tr>
        <td>{{ goalData.kcalGoal }}</td>
        <td>{{ goalData.proteinInGram }}</td>
        <td>{{ goalData.carbohydratesInGram }}</td>
        <td>{{ goalData.fatInGram }}</td>
        <td>{{ goalData.fiberInGram }}</td>
      </tr>
      </tbody>
    </table>

    <h5>Calculate you goal</h5>
    <form (ngSubmit)="setGoal()" [formGroup]="goalDataForm" class="goalContainer__calculateForm"
          [attr.disabled]="isUsernameFormDisabled() ? true : null">

      <div class="mb-3" [class.disabledForm]="isUsernameFormDisabled()">
        <label>Select your goal</label>
        <select class="form-select" formControlName="goal">
          <option value="maintain">Maintain weight</option>
          <option value="mildlose">Mild lose -0.25kg/week</option>
          <option value="weightlose">Weight lose -0.5kg/week</option>
          <option value="extremelose">Extreme weight lose -1kg/week</option>
          <option value="mildgain">Mild gain +0.25kg/week</option>
          <option value="weightgain">Mild gain +0.5kg/week</option>
          <option value="extremegain">Extreme weight gain +1kg/week</option>
        </select>

        <label>How active are you during the day?</label>
        <select class="form-select" formControlName="activityLevel">
          <option value="1">1 - Very sedentary (little to no physical activity)</option>
          <option value="2">2 - Sedentary (mostly sitting, minimal physical activity)</option>
          <option value="3">3 - Low activity (some movement, but limited exercise)</option>
          <option value="4">4 - Moderate activity (regular exercise or moderate physical activity)</option>
          <option value="5">5 - Active (engaging in physical activity regularly)</option>
          <option value="6">6 - Very active (frequent exercise and high physical activity)</option>
          <option value="7">7 - Extremely active (intense physical activity throughout the day)</option>
        </select>

        <label>Choose your diet</label>

        <div class="form-check">
          <input class="form-check-input" type="radio" formControlName="dietType" value="balanced" name="dietType"
                 id="flexRadioDefault1" checked>
          <label class="form-check-label" for="flexRadioDefault1">
            Balanced
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="radio" formControlName="dietType" value="lowfat" name="dietType"
                 id="flexRadioDefault2">
          <label class="form-check-label" for="flexRadioDefault2">
            Low Fat
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="radio" formControlName="dietType" value="lowcarbs" name="dietType"
                 id="flexRadioDefault3">
          <label class="form-check-label" for="flexRadioDefault3">
            Low Carb
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="radio" formControlName="dietType" value="highprotein" name="dietType"
                 id="flexRadioDefault4">
          <label class="form-check-label" for="flexRadioDefault4">
            High Protein
          </label>
        </div>


      </div>
      <div *ngIf="goalDataError" class="text-danger mb-3">{{ goalDataError }}</div>
      <div class="buttons">
        <button type="button" class="btn btn-primary"
                (click)="toggleUsernameForm()">Edit
        </button>
        <button type="submit" class="btn btn-primary"
                [class.disabledButton]="isUsernameFormDisabled()"
                [disabled]="isUsernameFormDisabled()">
          Update username
        </button>
      </div>

    </form>

    <h5>Set your custom goal</h5>
    <div class="mb-3 form goalContainer__form">
      <form (ngSubmit)="setGoals()" [formGroup]="setGoalsForm"
            [attr.disabled]="isUsernameFormDisabled1() ? true : null">

        <div [class.disabledForm]="isUsernameFormDisabled1()">

          <div class="mb-3">
            <label for="kcal" class="form-label">Calories</label>
            <input type="number" class="form-control" id="kcal" formControlName="kcal">
          </div>

          <div class="mb-3">
            <label for="proteinPercentage" class="form-label">Protein %</label>
            <input type="number" class="form-control" id="proteinPercentage" formControlName="proteinPercentage">
          </div>

          <div class="mb-3">
            <label for="carbohydratesPercentage" class="form-label">Carbs %</label>
            <input type="number" class="form-control" id="carbohydratesPercentage"
                   formControlName="carbohydratesPercentage">
          </div>

          <div class="mb-3">
            <label for="fatPercentage" class="form-label">Fat %</label>
            <input type="number" class="form-control" id="fatPercentage" formControlName="fatPercentage">
          </div>
        </div>

        <div *ngIf="setGoalsFormError" class="text-danger mb-3">{{ setGoalsFormError }}</div>
        <div class="buttons">
          <button type="button" class="btn btn-primary"
                  (click)="toggleUsernameForm1()">Edit
          </button>
          <button type="submit" class="btn btn-primary"
                  [class.disabledButton]="isUsernameFormDisabled1()"
                  [disabled]="isUsernameFormDisabled1()">
            Update username
          </button>
        </div>
      </form>
    </div>
  </div>

</div>

